{"data":{"css":".piviewer{\n  width: 100%;\n  height: 100%;\n}\n","data":[],"name":"fullmodel","js":"var me = this;\nvar ME = $('#'+me.UUID)[0];\nvar prefix = typeof CURRENTDEVICEPREFIX == \"undefined\" ? \"../\" : CURRENTDEVICEPREFIX;\nvar view = $(ME).find('.piviewer');\n\njson(prefix+'raspberrypi/info', null, function(result){\n  var magicchecker = result.msg;\n  view.data('orbitcontrols', true);\n  if(false){ //(magicchecker.includes(\"Zero\")){\n    view.data('controls', [\n    {\"db\":\"raspberrypi\", \"name\":\"pizeromodel\", \"pos\": {\"x\": 0, \"y\": 1, \"z\": 0}, \"rot\": {\"x\": 0, \"y\": Math.PI, \"z\": 0}, \"scale\": {\"x\": 1, \"y\": 1, \"z\": 1}}\n  ]);\n  }\n  else{\n  view.data('controls', [\n    {\"db\":\"raspberrypi\", \"name\":\"raspimodel\", \"pos\": {\"x\": 0, \"y\": 1, \"z\": 0}, \"rot\": {\"x\": 0, \"y\": Math.PI, \"z\": 0}, \"scale\": {\"x\": 1, \"y\": 1, \"z\": 1}}\n  ]);\n        }\n  installControl( view[0], 'threejs', 'viewer', function(api){\n    me.viewer = api;\n    api.waitReady(function(){\n      resizeView();\n      $(window).resize(resizeView);\n      api.scene.camera.position.z = 15;\n      api.scene.camera.lookAt(api.scene.position);\n    });\n    \n\t$(window).resize();\n  });\n});\n\nfunction resizeView(){\n  var w = view.width();\n  var h = w;\n  view.height(h);\n  me.viewer.renderer.setSize(w, h);\n}\n\n","groups":"trusted","ctl":"qlwyuz175aeb4349bu7c1","html":"<div class='piviewer'><\/div>","three":{"controls":[]},"db":"raspberrypi","desc":""},"readers":["trusted"],"id":"qlwyuz175aeb4349bu7c1","sessionid":"jvgvwg16b7a4d277bt3","time":1604953968359,"addr":"/0:0:0:0:0:0:0:1:59124","username":"admin"}