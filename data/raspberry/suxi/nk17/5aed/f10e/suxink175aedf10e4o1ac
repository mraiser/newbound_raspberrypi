{"data":{"css":"","data":[],"name":"spinanimation","js":"var me = this;\nvar ME = $('#'+me.UUID)[0];\n\nvar lastrender = new Date().getTime();\nvar timeout = 0;\nvar spinme = true;\n\nme.animate = function(model){\n  var rig = model.rig;\n  var animations = model.animations;\n  var camera = model.scene.camera;\n\n  animations.push(function(model){\n    var now = new Date().getTime();\n    var millis = now - lastrender;\n    lastrender = now;\n    if (spinme && now>timeout) rig.rot_y += millis * 0.0002; \n  });\n};\n\n\nme.ready = function(){\n\n  $(ME).parent().find('#webGL-container').on('mousedown', function(){\n    spinme = false;\n  });\n\n  $(ME).parent().find('#webGL-container').on('mouseup', function(){\n    timeout = new Date().getTime() + 3000;\n    spinme = true;\n  });\n\n};\n","groups":"anonymous","ctl":"suxink175aedf10e4o1ac","html":"","three":{"controls":[]},"db":"raspberrypi","desc":""},"readers":["anonymous"],"id":"suxink175aedf10e4o1ac","time":1604956691635,"addr":"/0:0:0:0:0:0:0:1:35768","username":"admin"}